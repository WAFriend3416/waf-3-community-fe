<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>게시글 상세 - 아무 말 대잔치</title>

  <!-- SEO Meta Tags -->
  <meta name="description" content="개발자가 공유한 기술 글을 읽고 댓글로 소통하세요. 좋아요와 조회수로 인기 글을 확인할 수 있습니다.">
  <meta name="keywords" content="게시글, 기술 블로그, 개발 경험, 댓글, 좋아요">

  <!-- Open Graph Meta Tags -->
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="아무 말 대잔치">
  <meta property="og:title" content="게시글 상세 - 아무 말 대잔치">
  <meta property="og:description" content="개발자가 공유한 기술 글을 읽고 댓글로 소통하세요">
  <meta property="og:url" content="http://localhost:3000/pages/board/detail.html">
  <meta property="og:image" content="http://localhost:3000/images/og-image.png">

  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="게시글 상세 - 아무 말 대잔치">
  <meta name="twitter:description" content="개발자가 공유한 기술 글을 읽고 댓글로 소통하세요">
  <meta name="twitter:image" content="http://localhost:3000/images/og-image.png">

  <!-- Common Styles -->
  <link rel="stylesheet" href="/css/common/reset.css">
  <link rel="stylesheet" href="/css/common/variables.css">
  <link rel="stylesheet" href="/css/common/typography.css">
  <link rel="stylesheet" href="/css/common/layout.css">

  <!-- Component Styles -->
  <link rel="stylesheet" href="/css/components/button.css">
  <link rel="stylesheet" href="/css/components/input.css">
  <link rel="stylesheet" href="/css/components/header.css">
  <link rel="stylesheet" href="/css/components/comment.css">
  <link rel="stylesheet" href="/css/components/toast.css">
  <link rel="stylesheet" href="/css/components/modal.css">
  <link rel="stylesheet" href="/css/components/footer.css">


  <!-- Page Styles -->
  <link rel="stylesheet" href="/css/pages/board/detail.css">
</head>
<body>
  <!-- Header with Back Button -->
  <header class="header header--with-back">
    <div class="header__container">
      <div class="header__left">
        <a href="/" class="header__home" aria-label="홈으로">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" fill="currentColor"/>
          </svg>
        </a>
        <button class="header__back" data-action="go-back" aria-label="뒤로가기">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
        <a href="/board" class="header__title">아무 말 대잔치</a>
      </div>
      <div class="header__right">
        <!-- 로그인 상태: 프로필 메뉴 -->
        <div class="profile-menu" data-auth="authenticated" style="display: none;">
          <button class="header__profile" data-action="toggle-menu" aria-label="프로필 메뉴">
            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=default" alt="프로필" class="header__profile-image" data-profile="image" loading="lazy">
            <span class="header__profile-name" data-profile="nickname">사용자</span>
          </button>
          <div class="profile-menu__dropdown" data-dropdown="profile">
            <a href="/page/profile" class="profile-menu__item" data-action="profile-link">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z" fill="currentColor"/>
              </svg>
              프로필 수정
            </a>
            <a href="/page/password" class="profile-menu__item" data-action="profile-link">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 8H17V6C17 3.24 14.76 1 12 1C9.24 1 7 3.24 7 6V8H6C4.9 8 4 8.9 4 10V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V10C20 8.9 19.1 8 18 8ZM12 17C10.9 17 10 16.1 10 15C10 13.9 10.9 13 12 13C13.1 13 14 13.9 14 15C14 16.1 13.1 17 12 17ZM15.1 8H8.9V6C8.9 4.29 10.29 2.9 12 2.9C13.71 2.9 15.1 4.29 15.1 6V8Z" fill="currentColor"/>
              </svg>
              비밀번호 변경
            </a>
            <button class="profile-menu__item profile-menu__item--danger" data-action="logout">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.59L17 17L22 12L17 7ZM4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z" fill="currentColor"/>
              </svg>
              로그아웃
            </button>
          </div>
        </div>

        <!-- 비로그인 상태: 로그인/회원가입 버튼 -->
        <div class="header__auth" data-auth="guest" style="display: none;">
          <a href="/page/login" class="header__auth-link">로그인</a>
          <a href="/page/register" class="header__auth-link header__auth-link--primary">회원가입</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main">
    <div class="container--narrow">
      <!-- Post Detail -->
      <article class="post-detail" data-post="detail">
        <!-- Post Header -->
        <header class="post-detail__header">
          <h2 class="post-detail__title" data-post="title"></h2>
          <div class="post-detail__meta">
            <div class="post-detail__author">
              <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=default" alt="" class="post-detail__author-image" data-post="authorImage" loading="lazy">
              <span class="post-detail__author-name" data-post="authorName"></span>
            </div>
            <time class="post-detail__date" data-post="date"></time>
          </div>
          <div class="post-detail__actions" data-post="actions" style="display: none;">
            <button class="btn btn--sm btn--secondary" data-action="edit-post">수정</button>
            <button class="btn btn--sm btn--danger" data-action="delete-post">삭제</button>
          </div>
        </header>

        <!-- Post Content -->
        <div class="post-detail__content">
          <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'/%3E" alt="" class="post-detail__image" data-post="image" loading="lazy" style="display: none;">
          <div class="post-detail__body" data-post="content"></div>
        </div>

        <!-- Post Stats -->
        <div class="post-detail__stats">
          <button class="post-detail__stat" data-action="toggle-like">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z" stroke="currentColor" stroke-width="2"/>
            </svg>
            <span data-post="likes">0</span> 좋아요
          </button>
          <div class="post-detail__stat">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" stroke="currentColor" stroke-width="2"/>
              <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
            </svg>
            <span data-post="views">0</span> 조회수
          </div>
          <div class="post-detail__stat">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2"/>
            </svg>
            <span data-post="comments">0</span> 댓글
          </div>
        </div>
      </article>

      <!-- Comments Section -->
      <section class="comments-section">
        <h3 class="comments-section__title">댓글</h3>

        <!-- Comment Form -->
        <form class="comment-form" data-form="comment">
          <textarea
            class="comment-form__textarea"
            placeholder="댓글을 입력해주세요"
            rows="3"
            data-field="comment"
            maxlength="200"
            required
          ></textarea>
          <div class="comment-form__footer">
            <div class="comment-form__counter">
              <span data-counter="comment">0</span> / 200
            </div>
            <div class="comment-form__actions">
              <button type="submit" class="btn btn--primary" data-action="submit-comment">
                댓글 등록
              </button>
              <button type="button" class="btn btn--secondary" data-action="cancel-comment" style="display: none;">
                취소
              </button>
            </div>
          </div>
        </form>

        <!-- Comments List -->
        <div class="comments-list" data-list="comments">
          <!-- Comments will be dynamically loaded here by detail.js -->
        </div>

        <!-- Empty State -->
        <div class="empty-state" data-empty="comments" style="display: none;">
          <p>첫 번째 댓글을 작성해보세요!</p>
        </div>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer__container">
      <!-- Footer Links -->
      <div class="footer__links">
        <a href="http://localhost:8080/terms" class="footer__link">이용약관</a>
        <span class="footer__divider">|</span>
        <a href="http://localhost:8080/privacy" class="footer__link">개인정보처리방침</a>
      </div>

      <!-- Copyright -->
      <p class="footer__copyright">
        Copyright © 2025 아무 말 대잔치. All rights reserved.
      </p>
    </div>
  </footer>

  <!-- Delete Confirmation Modal -->
  <div class="modal-overlay" data-modal="delete-post">
    <div class="modal modal--confirm">
      <div class="modal__body">
        <div class="modal__icon modal__icon--danger">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
          </svg>
        </div>
        <div class="modal__message">게시글 삭제</div>
        <div class="modal__description">정말 삭제하시겠습니까?</div>
      </div>
      <div class="modal__footer">
        <button class="btn btn--secondary" data-action="close-modal">취소</button>
        <button class="btn btn--danger" data-action="confirm-delete">삭제</button>
      </div>
    </div>
  </div>

  <!-- Common Scripts -->
  <script src="/js/common/api.js"></script>
  <script src="/js/common/validation.js"></script>
  <script src="/js/common/utils.js"></script>
  <script src="/js/common/toast.js"></script>
  <script src="/js/common/auth-header.js"></script>

  <!-- Page Script -->
  <script src="/js/pages/board/detail.js"></script>
</body>
</html>
